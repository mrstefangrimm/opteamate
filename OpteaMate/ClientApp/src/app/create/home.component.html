<!-- Copyright (c) 2020 Stefan Grimm. All rights reserved.
     Licensed under the GPL. See LICENSE file in the project root for full license information.
-->

<table>
  <thead>
    <tr>
      <td width="100%"><h1>Opteamate</h1></td>
    </tr>
    <tr>
      <td>
        Erstelle einen Anlass f&uuml;r eine optimale Anzahl Teilnehmer.
      </td>
    </tr>
  </thead>
</table>

<hr />

<form *ngIf="postPermission">

  <table>
    <thead>
      <tr>
        <td width="50%">
          <h2>Neuer Anlass</h2>
        </td>
        <td width="10%"></td>
        <td width="40%" align="right">
          <a [routerLink]="['/series/' + nextSeriesToken]"><h4>Neue Serie von Anl&auml;ssen</h4></a>
        </td>
      </tr>
    </thead>
  </table>

  <div *ngIf="selectedOptimum">
    <mat-form-field>
      <mat-label>Typ</mat-label>
      <mat-select [(value)]="selectedOptimum">
        <mat-option *ngFor="let o of optima" [value]="o">{{o.data.name}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <blockquote>
    <mat-label>Positionen: {{selectedOptimum.data.positions}}</mat-label><br />
    <mat-label>Optima: {{selectedOptimum.data.strategies}}</mat-label>
  </blockquote>

  <div>
    <mat-form-field>
      <mat-label>Was</mat-label>
      <input matInput
             name="title"
             id="title"
             [(ngModel)]="newEvent.title"
             type="text"
             class="form-control"
             required />
      <mat-error>Anlass, mindestens 1 Zeichen</mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Wo</mat-label>
      <input matInput
             name="location"
             id="location"
             [(ngModel)]="newEvent.location"
             type="text"
             class="form-control"
             required />
      <mat-error>Ort, mindestens 1 Zeichen</mat-error>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field [style.width.px]=120>
      <mat-label>Wann</mat-label>
      <input matInput
             name="start"
             readonly
             [matDatepicker]="picker"
             [(ngModel)]="selectedDate">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <mat-form-field [style.width.px]=100>
      <mat-label>Uhrzeit</mat-label>
      <mat-select [(value)]="selectedHour">
        <mat-option *ngFor="let h of [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]" [value]="h">{{h.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})}}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field [style.width.px]=60>
      <mat-select [(value)]="selectedMinutes">
        <mat-option *ngFor="let m of [0, 15, 30, 45]" [value]="m">{{m.toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false})}}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-error *ngIf="selectedDate != null && !isFutureDate()">Datum/Uhrzeit m&uuml;ssen mindestens 1 Stunde in der Zukunft liegen.</mat-error>
  </div>

  <button type="reset"
          [disabled]="newEvent.title == null || newEvent.location == null || isFutureDate() == false"
          mat-raised-button
          color="primary"
          (click)="addEvent()">
    Erstellen
  </button>

</form>

<hr />

<p *ngIf="!postPermission">
  Zur Zeit k&ouml;nnen keine Anl&auml;sse erstellt werden.
</p>

<section *ngIf="postPermission">
  <p>Der wohl schnellste und einfachste Team-Planer der Welt! Der Algorithmus schaut, dass du die richtigen Leute dabei hast.</p>

  <p><u>So geht&acute;s</u></p>
  <ol>
    <li>Erstelle den Anlass</li>
    <li>Verschicke die URL per E-Mail oder in einer Messenger App</li>
    <li>Die Leute registrieren sich. Du hast den &Uuml;berblick.</li>
  </ol>

  <p><u>Was musst du wissen?</u></p>
  <blockquote>Sobald du den Anlass erstellt hast, erscheint der Knopf &acute;<i>URL in die Zwischenablage</i>&acute; in der oberen, rechten Ecke. <b>Wichtig:</b> Die hinterlegte URL darfst du nicht verlieren.</blockquote>

  <p><u>Warum Opteamate?</u></p>
  <ul>
    <li>Keine Anmeldung n&ouml;tig</li>
    <li>Keine pers&ouml;nlichen Daten wie E-Mail Adresse oder Telefonnummer werden gespeichert</li>
    <li>Keine Cookies und Trackers</li>
    <li>Einmalige Funktionalit&auml;t</li>
  </ul>

  <p><u>Wer steckt hinter Opteamate?</u></p>
  <blockquote>Eine Einzelperson. Ich habe das Projekt als „Warm-Up“ gestartet, um mich mit Webtechnologien vertraut zu machen.</blockquote>
  <blockquote>Der Programmcode ist Open Source und auf <a href="https://github.com/mrstefangrimm/opteamate">Github</a>.</blockquote>
  
</section>
